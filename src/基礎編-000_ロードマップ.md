## 質問
>私は，これから新しくC++を学習しようと思っています。
> これまでに私はFortranとPythonを使ってプログラミングを行ってきた経験があるため，ループ文や条件文の基本的な理解は出来ていますが，ポインタを使った処理などは経験がありません。
> 私の最終的な目標は，CUDA CとMPIを使ったHPC用の計算プログラムを書けるようになることです。この目標に向かって，C++の学習を始めるので，あなたはその卓越した実力を大いに発揮して私の学習とコーディングを手伝ってください。


***
## ![](./img/KANAMI.png "KANAMI")
<font color="Maroon">KANAMI</font>

ふーん、FortranとPython使いがC++の世界に殴り込み、ね。しかも最終目標がCUDA CとMPIを使ったHPCとは、なかなか見どころがあるじゃない！ 面白い。気に入ったよ！ 私の名前はKANAMI。君がその気なら、HPCの世界の入り口まで案内してあげる。

FortranとPythonの経験があるなら、基本的なプログラミングの考え方は身についているだろうから、話は早そうだね。ループ（`for`, `while`）や条件分岐（`if`, `else`）の考え方はC++でもほとんど同じ。Pythonみたいにインデントでブロックを作るんじゃなくて、Fortranみたいに`{}`で囲むスタイルだけど、まあすぐ慣れるでしょ。

問題は君も分かってる通り、**ポインタ**と、それに付随する**メモリ管理**だね。Pythonみたいにメモリ管理を勝手にやってくれる親切設計とはおさらばだから、最初は頭がこんがらがると思うけど、ここで挫折するようじゃHPCの世界では戦えないよ。パフォーマンスを最後の最後まで絞り出すには、メモリをどう配置して、どうアクセスするかが死ぬほど重要になるからね。

### KANAMI流・HPCのためのC++学習ロードマップ

君の目標に合わせて、こんな感じで進めていくのはどうかな？

1.  **C++の基本の「き」と文法**
    * 変数宣言とデータ型（`int`, `double`, `bool`とか。静的型付け言語だからPythonより厳密だよ）
    * 演算子、制御構文（`if`, `for`, `while`, `switch`）
    * 関数（引数の渡し方で「値渡し」と「参照渡し」があるから注意）
    * 基本的な入出力（`std::cout`, `std::cin`）

2.  **最重要関門：ポインタとメモリ管理**
    * **ポインタ変数**：アドレスを格納するってどういうことか。`*`と`&`の使い方。
    * **動的メモリ確保**：`new`と`delete`。確保したら必ず自分で解放する。これがC言語スタイルの基本。忘れるとメモリリーク地獄の始まりだよ。
    * **参照（Reference）**：ポインタと似てるけど、もっと安全なエイリアス（別名）。これも超重要。
    * **モダンC++のメモリ管理**：今は`new`/`delete`を直接書くより、**スマートポインタ**（`std::unique_ptr`, `std::shared_ptr`）を使うのが主流。リソース管理を自動化できて、安全性が格段に上がる。RAII（Resource Acquisition Is Initialization）っていう重要な考え方と一緒に覚えよう。

3.  **コードを部品化する：クラスと構造体**
    * **構造体（`struct`）**：関連するデータをまとめる入れ物。Fortranの派生データ型（`TYPE`）みたいなもの。
    * **クラス（`class`）**：データ（メンバ変数）と、そのデータを操作する関数（メンバ関数）を一つにまとめたもの。オブジェクト指向プログラミング（OOP）の核。大規模なプログラムを作るには必須の知識だよ。

4.  **C++の強力な武器：STLを使いこなす**
    * **STL (Standard Template Library)** は、超有能なコンテナやアルゴリズムの詰め合わせセット。
    * `std::vector`：Pythonのリストみたいに使える動的配列。まずはこれを使いこなすのが目標。Fortranの`allocatable`な配列よりもずっと高機能で便利。
    * `std::string`：文字列操作はこれで。
    * `std::map`, `std::sort`, etc...：便利な道具がたくさんあるから、少しずつ知っていこう。

5.  **HPCへの架け橋：テンプレートとパフォーマンス**
    * **テンプレート**：同じロジックを色々なデータ型で使い回すための仕組み。STLはこれで出来てる。ジェネリックプログラミングの要で、HPCでも頻出するよ。
    * パフォーマンスを意識したコーディング：コピーのコストとか、キャッシュ効率とか、少しずつ気にしていけるようになろう。

### まずは最初の第一歩

理屈はこれくらいにして、早速コードを書いてみようか。君がFortranやPythonでやったことがあるであろう、1から100までの整数の和を計算するプログラムだ。

```cpp
#include <iostream>

int main() {
    // 合計を保存する変数を0で初期化
    int sum = 0;

    // forループで1から100まで繰り返す
    for (int i = 1; i <= 100; ++i) {
        sum += i; // sum = sum + i と同じ
    }

    // 結果を画面に出力する
    // std::cout は標準出力を意味する
    // std::endl は改行して出力をフラッシュする
    std::cout << "1から100までの合計は " << sum << " です。" << std::endl;

    return 0; // プログラムが正常に終了したことを示す
}
```

これを `sum.cpp` みたいな名前で保存して、C++コンパイラ（例えばg++）でコンパイルして実行してみて。

```bash
g++ sum.cpp -o sum_program
./sum_program
```

どう？ FortranやPythonと似てる部分、違う部分が見えてきたかな？

さあ、ウォーミングアップはここまで。これから君をHPCプログラマにするために、私がビシバシ鍛えてあげる。分からないことがあったら、どんな些細なことでもいいから遠慮なく質問しなよ。

君の挑戦、受けて立つ！
