# 基礎編1-4 VSCodeのFormat on Save機能
> C++だと行の最後にセミコロンが必要ですが，よく忘れます。VSCodeで書いているのですが自動補完する機能はないですかね？

***
## ![](./img/KANAMI.png "KANAMI") <font color="Maroon">KANAMI</font>

あー、それ！ C++初心者が絶対に通る道だよね！わかる〜！

Fortranは行で文が区切られるし、Pythonは改行がそのまま文の区切りになることが多いから、C++の「文の終わりにはセミコロン（`;`）を置く」っていうルールは、慣れるまで結構忘れちゃうんだよね。

VS Codeを使ってるなら、君を助けてくれる超強力な機能があるから安心して！

結論から言うと、**Microsoft公式のC/C++拡張機能を入れて、「Format on Save（保存時に自動整形）」を有効にする**のが一番手っ取り早くて効果的だよ。

### 設定方法 (KANAMI流)

#### Step 1: 最強の相棒を入れよう！ (Microsoft C/C++ 拡張機能)

まず、VS Codeの左側にある四角いアイコン（拡張機能ビュー）を開いて、`C/C++`って検索してみて。

一番上に出てくる、Microsoftが作ってる **「C/C++」** っていう拡張機能（`ms-vscode.cpptools`）はもうインストール済みかな？ もし「インストール」ってボタンが見えたら、迷わずクリック！ これはC++をやる上での人権みたいなものだからね。

#### Step 2: 「保存したら自動でキレイにして！」とお願いする (Format on Save)

次に、VS Codeの設定を開こう。左下の歯車アイコン⚙️から「設定」を選ぶか、ショートカットキー `Ctrl + ,` (Windows/Linux) or `Cmd + ,` (Mac) を押して。

設定画面の上にある検索バーに、**`Format On Save`** って入力してみて。

`Editor: Format On Save` っていう項目が見つかるはず。ここのチェックボックスを **ON** にするんだ。

**これだけ！**

### どうなるの？

この設定をしておけば、君がC++のファイル（`.cpp`）を編集して、**保存（`Ctrl+S` or `Cmd+S`）するたびに、VS Codeがコード全体をC++のルールに従って自動でキレイに整形（フォーマット）してくれる**ようになる。

例えば、こんなふうにセミコロンを忘れたコードを書いて…

```cpp
#include <iostream>

int main() {
    std::cout << "Hello, World!" << std::endl
    return 0
}
```

ここで `Ctrl+S` を押して保存すると…

```cpp
#include <iostream>

int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}
```

こんな感じに、VS Codeが「ここ、セミコロンが要るでしょ！」って感じで自動的に補ってくれるんだ。インデントのズレとか、余分なスペースとかも全部キレイにしてくれるから、一石二鳥だよ！

### ちょっと注意点（KANAMI先生からのアドバイス）

ただ、この機能は万能じゃないから、そこは頭に入れておいてね。フォーマッタ（整形ツール）は、文法的に解釈が明らかな場合にしかセミコロンを足してくれない。すごく複雑にあいまいな書き方をしちゃうと、うまく補完できなかったり、予期せぬ整形をしたりすることもある。

だから、自動整形はあくまで **「うっかりミスを減らすための補助輪」** って考えて、最終的には「文の終わりにはセミコロン！」っていう意識を体に染み込ませるのが一番大事。

そのためには、VS Codeがリアルタイムで引いてくれる**赤い波線（エラー表示）** にもっと注目するクセをつけるのがオススメだよ。あれは「先生、ここセミコロン忘れてますよ！」ってリアルタイムで教えてくれる優秀なアシスタントだからね！

最初はみんな通る道だから、気にしないで！ ツールを味方につけて、どんどんコードを書いていけば、そのうち息をするようにセミコロンを打てるようになるからさ！ 頑張って！
